Room* generateFloor(int startY, int startX, int id, int maxSize){
  int currOffset=1, failures=0, dir, y, x;
  Room* rooms = (Room*)calloc(maxSize,sizeof(Room));
  Room tryRoom;
  Room* currRoom;

  setRoom(*rooms,startY,startX,roomTypeProb(id));
  while(currOffset != 0 && failures != GENERATION_TRY_LIMIT){
    dir = rand() % 4;
    currRoom = rooms + currOffset;
    setRoom(tryRoom,0,0,roomTypeProb(id));
    switch(dir){
      case NORTH:
        y = currRoom->y - tryRoom.h; 
        x = currRoom->x;
        break;
      case SOUTH:
        y = currRoom->y + currRoom->h; 
        x = currRoom->x;
        break;
      case EAST:
        y = currRoom->y; 
        x = currRoom->x + currRoom->w;
        break;
      case WEST:
        y = currRoom->y; 
        x = currRoom->x - tryRoom.w;
        break;
    }
    if(collRect(y,x,tryRoom.h,tryRoom.w,IS_ROOM) == 1){
      failures++;
    }

  }

}
